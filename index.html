<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asphalt Quote Calculator</title>
<link rel="stylesheet" href="styles.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-content">
                <div class="header-title">
                    <h1><i class="fas fa-calculator"></i> Asphalt Quote Calculator</h1>
                    <div id="edit-mode-indicator" class="edit-mode-indicator hidden">
                        <i class="fas fa-edit"></i>
                        <span>Editing Quote</span>
                    </div>
        </div>
                <div class="header-actions">
                    <button id="save-quote" class="btn btn-secondary" type="button">
                        <i class="fas fa-save"></i> Save Quote
                    </button>
                    <button id="load-quote" class="btn btn-secondary" type="button">
                        <i class="fas fa-folder-open"></i> Load Quote
                    </button>
                    <a href="search.html" class="btn btn-secondary" type="button">
                        <i class="fas fa-search"></i> Search Quotes
                    </a>
                    <button id="new-quote" class="btn btn-primary" type="button">
                        <i class="fas fa-plus"></i> New Quote
                    </button>
                    <button id="export-pdf" class="btn btn-primary" type="button">
                        <i class="fas fa-file-pdf"></i> Export PDF
                    </button>
        </div>
      </div>
        </header>

        <main class="app-main">
            <div class="form-container">
                <form id="quote-form" class="quote-form">
                    <!-- Client Information Section -->
                    <section class="form-section" data-section="client">
                        <div class="section-header">
                            <h2><i class="fas fa-user"></i> Client Information</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
        </div>
      </div>
                        <div class="section-content">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="project_firstname">First Name</label>
                                    <input id="project_firstname" type="text" name="project-firstname">
                                </div>
                                <div class="form-group">
                                    <label for="project_lastname">Last Name</label>
                                    <input id="project_lastname" type="text" name="project-lastname">
                                </div>
                                <div class="form-group">
                                    <label for="project_email">Email</label>
                                    <input id="project_email" type="email" name="project-email">
        </div>
                                <div class="form-group">
                                    <label for="project_mobile">Mobile</label>
                                    <input id="project_mobile" type="tel" name="project_mobile">
        </div>
                                <div class="form-group full-width">
                                    <label for="project_address">Address</label>
                                    <input id="project_address" type="text" name="project_address">
      </div>
                                <div class="form-group">
                                    <label for="project_apartment">Apartment, Suite, etc.</label>
                                    <input id="project_apartment" type="text" name="project_apartment">
        </div>
                                <div class="form-group">
                                    <label for="project_city">Town/Suburb</label>
                                    <input id="project_city" type="text" name="project_city">
        </div>
                                <div class="form-group">
                                    <label for="project_postcode">Postcode</label>
                                    <input id="project_postcode" type="text" name="project_postcode">
      </div>
                                <div class="form-group">
          <label for="project_state">State</label>
                                    <input id="project_state" type="text" name="project_state" value="Queensland">
        </div>
                                <div class="form-group">
          <label for="project_country">Country</label>
                                    <input id="project_country" type="text" name="project_country" value="Australia">
        </div>
      </div>
        </div>
                    </section>

                    <!-- Company Details Section -->
                    <section class="form-section" data-section="company">
                        <div class="section-header">
                            <h2><i class="fas fa-building"></i> Company Details</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
        </div>
      </div>
                        <div class="section-content">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="project_company">Company Name</label>
                                    <input id="project_company" type="text" name="project-company">
                                </div>
                                <div class="form-group">
                                    <label for="project_abn">ABN</label>
                                    <input id="project_abn" type="text" name="project-abn">
                                </div>
                                <div class="form-group">
          <label for="project_phone">Phone</label>
                                    <input id="project_phone" type="tel" name="project_phone">
        </div>
                                <div class="form-group">
          <label for="project_fax">Fax</label>
                                    <input id="project_fax" type="text" name="project_fax">
        </div>
      </div>
    </div>
                    </section>

                    <!-- Service Details Section -->
                    <section class="form-section" data-section="service">
                        <div class="section-header">
                            <h2><i class="fas fa-tools"></i> Service Details</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        <div class="section-content">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="service_type">Service Type</label>
                                    <select id="service_type" name="service_type">
                                        <option value="">Select a service</option>
          <option value="Overlay">Overlay</option>
          <option value="Sealcoating">Sealcoating</option>
          <option value="Pothole Repair">Pothole Repair</option>
          <option value="Crack Repair">Crack Repair</option>
                                        <option value="Linemarking">Linemarking</option>
        </select>
      </div>
                                <div class="form-group">
                                    <label for="traffic_control">Traffic Control Required?</label>
                                    <select id="traffic_control" name="traffic_control">
          <option value="No">No</option>
          <option value="Yes">Yes</option>
        </select>
      </div>
                            </div>
                            
                            <!-- Traffic Control Details -->
                            <div id="traffic-control-details" class="conditional-section hidden">
                                <h3>Traffic Control Details</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="traffic_control_type">Traffic Control Type</label>
                                        <select id="traffic_control_type" name="traffic-control-type">
                                            <option value="">Select type</option>
                                            <option value="Stop/Slow">Stop/Slow</option>
                                            <option value="Lane Closure">Lane Closure</option>
                                            <option value="Road Closure">Road Closure</option>
                                            <option value="Pedestrian Management">Pedestrian Management</option>
                                            <option value="School Zone">School Zone</option>
                                            <option value="Event Traffic">Event Traffic</option>
                                            <option value="Emergency Response">Emergency Response</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
          <label for="traffic_control_hours_required">Hours Required</label>
                                        <input id="traffic_control_hours_required" type="number" name="traffic-control-hours-required" min="0" step="0.5" placeholder="e.g., 8">
                                    </div>
                                    <div class="form-group">
                                        <label for="traffic_control_workers_required">Workers Required</label>
                                        <input id="traffic_control_workers_required" type="number" name="traffic-control-workers-required" min="0" placeholder="e.g., 2">
                                    </div>
                                    <div class="form-group">
                                        <label for="traffic_control_hourly_rate">Traffic Controller Rate ($/hr)</label>
                                        <input id="traffic_control_hourly_rate" type="number" name="traffic-control-hourly-rate" min="0" step="0.01" value="45" placeholder="45">
                                    </div>
                                    <div class="form-group">
                                        <label for="traffic_control_equipment">Equipment Required</label>
                                        <div class="multi-select-container">
                                            <div class="multi-select-display" id="traffic_control_equipment_display">
                                                <span class="placeholder">Select equipment</span>
                                            </div>
                                            <div class="multi-select-dropdown" id="traffic_control_equipment_dropdown">
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Stop/Slow Signs" data-field="traffic_control_equipment">
                                                    <span>Stop/Slow Signs</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Barriers & Cones" data-field="traffic_control_equipment">
                                                    <span>Barriers & Cones</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Arrow Boards" data-field="traffic_control_equipment">
                                                    <span>Arrow Boards</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Portable Traffic Lights" data-field="traffic_control_equipment">
                                                    <span>Portable Traffic Lights</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Safety Vests & PPE" data-field="traffic_control_equipment">
                                                    <span>Safety Vests & PPE</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Communication Radios" data-field="traffic_control_equipment">
                                                    <span>Communication Radios</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="All Equipment" data-field="traffic_control_equipment">
                                                    <span>All Equipment</span>
                                                </label>
                                            </div>
                                        </div>
                                        <input type="hidden" id="traffic_control_equipment" name="traffic-control-equipment">
                                    </div>
                                    <div class="form-group">
                                        <label for="traffic_control_permits">Permits Required</label>
                                        <div class="multi-select-container">
                                            <div class="multi-select-display" id="traffic_control_permits_display">
                                                <span class="placeholder">Select permits</span>
                                            </div>
                                            <div class="multi-select-dropdown" id="traffic_control_permits_dropdown">
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="No" data-field="traffic_control_permits">
                                                    <span>No Permits</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Local Council" data-field="traffic_control_permits">
                                                    <span>Local Council</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="State Government" data-field="traffic_control_permits">
                                                    <span>State Government</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Police Approval" data-field="traffic_control_permits">
                                                    <span>Police Approval</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Multiple Permits" data-field="traffic_control_permits">
                                                    <span>Multiple Permits</span>
                                                </label>
                                            </div>
                                        </div>
                                        <input type="hidden" id="traffic_control_permits" name="traffic-control-permits">
                                    </div>
                                    <div class="form-group">
                                        <label for="traffic_control_notification">Notification Period</label>
                                        <select id="traffic_control_notification" name="traffic-control-notification">
                                            <option value="Immediate">Immediate</option>
                                            <option value="24 Hours">24 Hours</option>
                                            <option value="48 Hours">48 Hours</option>
                                            <option value="1 Week">1 Week</option>
                                            <option value="2 Weeks">2 Weeks</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="traffic_control_complexity">Complexity Level</label>
                                        <select id="traffic_control_complexity" name="traffic-control-complexity">
                                            <option value="Low">Low (Simple road work)</option>
                                            <option value="Medium">Medium (Busy intersection)</option>
                                            <option value="High">High (Major road closure)</option>
                                            <option value="Critical">Critical (Emergency response)</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="traffic_control_weather">Weather Considerations</label>
                                        <div class="multi-select-container">
                                            <div class="multi-select-display" id="traffic_control_weather_display">
                                                <span class="placeholder">Select weather conditions</span>
                                            </div>
                                            <div class="multi-select-dropdown" id="traffic_control_weather_dropdown">
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="None" data-field="traffic_control_weather">
                                                    <span>None</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Rain" data-field="traffic_control_weather">
                                                    <span>Rain</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Wind" data-field="traffic_control_weather">
                                                    <span>Wind</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Heat" data-field="traffic_control_weather">
                                                    <span>Heat</span>
                                                </label>
                                                <label class="multi-select-option">
                                                    <input type="checkbox" value="Multiple" data-field="traffic_control_weather">
                                                    <span>Multiple Conditions</span>
                                                </label>
                                            </div>
                                        </div>
                                        <input type="hidden" id="traffic_control_weather" name="traffic-control-weather">
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="traffic_control_notes">Traffic Control Notes</label>
                                        <textarea id="traffic_control_notes" name="traffic-control-notes" rows="3" placeholder="Additional notes about traffic control requirements, special considerations, or specific instructions..."></textarea>
        </div>
        </div>
      </div>

                            <div class="form-group">
                                <label for="excavation_required">Excavation Required?</label>
                                <select id="excavation_required" name="excavation-required">
          <option value="No">No</option>
          <option value="Yes">Yes</option>
        </select>
      </div>

                            <!-- Excavation Details -->
                            <div id="excavation-details" class="conditional-section hidden">
                                <h3>Excavation Details</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="excavation_type">Excavation Type</label>
                                        <select id="excavation_type" name="excavation-type">
                                            <option value="">Select excavation type</option>
                                            <option value="General Excavation">General Excavation</option>
                                            <option value="Foundation Work">Foundation Work</option>
                                            <option value="Trenching">Trenching</option>
                                            <option value="Site Preparation">Site Preparation</option>
                                            <option value="Demolition">Demolition</option>
                                            <option value="Landscaping">Landscaping</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="excavation_machine">Excavation Machine</label>
                                        <select id="excavation_machine" name="excavation-machine">
                                            <option value="">Select machine</option>
                                            <option value="Mini Excavator (1.5t)">Mini Excavator (1.5t) - $85/hr</option>
                                            <option value="Small Excavator (3t)">Small Excavator (3t) - $120/hr</option>
                                            <option value="Medium Excavator (8t)">Medium Excavator (8t) - $180/hr</option>
                                            <option value="Large Excavator (15t)">Large Excavator (15t) - $250/hr</option>
                                            <option value="Large Excavator (20t)">Large Excavator (20t) - $300/hr</option>
                                            <option value="Rock Breaker">Rock Breaker - $200/hr</option>
                                            <option value="Bulldozer">Bulldozer - $220/hr</option>
                                            <option value="Loader">Loader - $150/hr</option>
                                            <option value="Dump Truck">Dump Truck - $120/hr</option>
          </select>
        </div>
                                    <div class="form-group">
                                        <label for="excavation_machine_rate">Custom Hourly Rate ($/hr)</label>
                                        <input id="excavation_machine_rate" type="number" name="excavation-machine-rate" min="0" step="0.01" placeholder="Leave empty to use default">
                                    </div>
                                    
                                    <!-- Excavation Time Estimation -->
                                    <div class="subsection">
                                        <h4>Excavation Time Estimation</h4>
                                        <p class="text-sm text-secondary mb-4">Estimate how long the excavation will take based on equipment and operational factors</p>
                                        
                                        <div class="form-grid">
                                            <div class="form-group">
                                                <label for="excavator_bucket_size">Excavator Bucket Size (m³)</label>
                                                <input id="excavator_bucket_size" type="number" name="excavator-bucket-size" min="0" step="0.1" value="0.5" placeholder="e.g., 0.5">
                                            </div>
                                            <div class="form-group">
                                                <label for="truck_capacity">Truck Capacity (m³)</label>
                                                <input id="truck_capacity" type="number" name="truck-capacity" min="0" step="0.1" value="12" placeholder="e.g., 12">
                                            </div>
                                            <div class="form-group">
                                                <label for="trucks_available">Number of Trucks Available</label>
                                                <input id="trucks_available" type="number" name="trucks-available" min="1" value="2" placeholder="e.g., 2">
                                            </div>
                                            <div class="form-group">
                                                <label for="operation_efficiency">Operation Efficiency (%)</label>
                                                <input id="operation_efficiency" type="number" name="operation-efficiency" min="0" max="100" step="1" value="75" placeholder="e.g., 75">
                                                <small class="text-secondary">Accounts for breaks, positioning, and other delays</small>
                                            </div>
                                            <div class="form-group">
                                                <label for="round_trip_time">Round Trip Time (minutes)</label>
                                                <input id="round_trip_time" type="number" name="round-trip-time" min="0" step="1" value="45" placeholder="e.g., 45">
                                                <small class="text-secondary">Time for truck to travel to disposal site and return</small>
                                            </div>
                                            <div class="form-group">
                                                <label for="excavator_cycle_time">Excavator Cycle Time (minutes)</label>
                                                <input id="excavator_cycle_time" type="number" name="excavator-cycle-time" min="0" step="0.1" value="2" placeholder="e.g., 2">
                                                <small class="text-secondary">Average time per excavator cycle (loading, swinging, dumping)</small>
                                            </div>
                                        </div>
                                        
                                        <!-- Excavation Time Summary -->
                                        <div id="excavation-time-summary" class="mt-4 p-4 bg-gray-50 rounded-md hidden">
                                            <h5 class="font-semibold mb-2">Excavation Time Estimate</h5>
                                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                                <div>
                                                    <span class="font-medium">Total Volume:</span>
                                                    <span id="total_excavation_volume_time">0 m³</span>
                                                </div>
                                                <div>
                                                    <span class="font-medium">Excavator Cycles:</span>
                                                    <span id="excavator_cycles">0</span>
                                                </div>
                                                <div>
                                                    <span class="font-medium">Truck Loads:</span>
                                                    <span id="truck_loads_time">0</span>
                                                </div>
                                                <div>
                                                    <span class="font-medium">Estimated Time:</span>
                                                    <span id="estimated_excavation_time">0 hours</span>
                                                </div>
        </div>
      </div>
    </div>

                                </div>

                                                                <!-- Itemized Excavation Section -->
                                <div class="subsection">
                                    <h4>Excavation Items</h4>
                                    <p class="text-sm text-secondary mb-4">Add individual excavation items for different areas, stages, or materials</p>
                                    
                                    <div id="excavation-items-container">
                                        <!-- Excavation items will be added here dynamically -->
                                    </div>
                                    
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label for="new_excavation_description">Description</label>
                                            <input id="new_excavation_description" type="text" name="new-excavation-description" placeholder="e.g., Stage 1 - Asphalt removal, Corner soft spot, Extension area">
                                        </div>
                                        <div class="form-group">
                                            <label for="new_excavation_area">Area (sq m)</label>
                                            <input id="new_excavation_area" type="number" name="new-excavation-area" min="0" step="0.01" placeholder="e.g., 600">
                                        </div>
                                        <div class="form-group">
                                            <label for="new_excavation_material">Material to Excavate</label>
                                            <select id="new_excavation_material" name="new-excavation-material">
                                                <option value="">Select material</option>
                                                <option value="Grass/Turf">Grass/Turf (0.8 t/m³)</option>
                                                <option value="Topsoil">Topsoil (1.2 t/m³)</option>
                                                <option value="Clay">Clay (1.4 t/m³)</option>
                                                <option value="Sand">Sand (1.6 t/m³)</option>
                                                <option value="Gravel">Gravel (1.8 t/m³)</option>
                                                <option value="CBR-45">CBR-45 Road Base (2.0 t/m³)</option>
                                                <option value="CBR-80">CBR-80 Road Base (2.1 t/m³)</option>
                                                <option value="Concrete">Concrete (2.4 t/m³)</option>
                                                <option value="Asphalt">Asphalt (2.4 t/m³)</option>
                                                <option value="Rock">Rock (2.7 t/m³)</option>
                                                <option value="Mixed">Mixed Materials (1.8 t/m³)</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="new_excavation_depth">Depth (mm)</label>
                                            <input id="new_excavation_depth" type="number" name="new-excavation-depth" min="0" step="1" placeholder="e.g., 40">
                                        </div>
                                        <div class="form-group">
                                            <label for="new_excavation_density">Material Density (t/m³)</label>
                                            <input id="new_excavation_density" type="number" name="new-excavation-density" min="0" step="0.1" placeholder="Auto-filled based on material">
                                            <small class="text-secondary">Can be edited if different from standard density</small>
                                        </div>
                                        <div class="form-group">
                                            <label for="new_excavation_compaction">Compaction (%)</label>
                                            <input id="new_excavation_compaction" type="number" name="new-excavation-compaction" min="0" step="1" value="0" placeholder="Auto-filled based on material">
                                            <small class="text-secondary">0 = no compaction, 25 = 25% compaction (1.25×)</small>
                                        </div>
                                        <div class="form-group">
                                            <label for="new_excavation_machine_hours">Machine Hours Required</label>
                                            <input id="new_excavation_machine_hours" type="number" name="new-excavation-machine-hours" min="0" step="0.5" placeholder="e.g., 8">
                                        </div>
                                        <div class="form-group">
                                            <label for="new_excavation_disposal">Disposal Type</label>
                                            <select id="new_excavation_disposal" name="new-excavation-disposal">
                                                <option value="Reuse">Reuse On Site</option>
                                                <option value="General">General Waste</option>
                                                <option value="Clean Fill">Clean Fill</option>
                                                <option value="Concrete">Concrete Waste</option>
                                                <option value="Asphalt">Asphalt Waste</option>
                                                <option value="Contaminated">Contaminated</option>
                                            </select>
                                        </div>
                                        <div class="form-group checkbox-group">
                                            <label for="new_excavation_dirty">
                                                <input id="new_excavation_dirty" type="checkbox" name="new-excavation-dirty">
                                                Dirty/Contaminated Material
                                            </label>
                                        </div>
                                        <div class="form-group" id="new_tip_fee_container">
                                            <label for="new_excavation_tip_fee">Tip Fee ($/tonne)</label>
                                            <input id="new_excavation_tip_fee" type="number" name="new-excavation-tip-fee" min="0" step="0.01" value="150" placeholder="150">
                                            <small class="text-secondary">Not required for "Reuse On Site"</small>
                                        </div>
                                        <div class="form-group">
                                            <button type="button" id="add-excavation-item" class="btn btn-success">
                                                <i class="fas fa-plus"></i> Add Excavation Item
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Excavation Summary -->
                                    <div id="excavation-summary" class="mt-4 p-4 bg-gray-50 rounded-md hidden">
                                        <h5 class="font-semibold mb-2">Excavation Summary</h5>
                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                            <div>
                                                <span class="font-medium">Total Items:</span>
                                                <span id="total_excavation_items">0</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Total Volume:</span>
                                                <span id="total_excavation_volume">0 m³</span>
                                            </div>
                                            <div>
                                                <span class="font-medium">Total Weight:</span>
                                                <span id="total_excavation_weight">0 tonnes</span>
                                            </div>
                                        </div>
                                        <div class="mt-2">
                                            <span class="font-medium">Disposal Breakdown:</span>
                                            <div id="disposal_breakdown" class="mt-1 text-xs"></div>
                                        </div>
                                    </div>
                                </div>

                                

                                <div class="form-group full-width">
                                    <label for="excavation_notes">Excavation Notes</label>
                                    <textarea id="excavation_notes" name="excavation-notes" rows="3" placeholder="Additional notes about excavation requirements, special considerations, or specific instructions..."></textarea>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Project Details Section -->
                    <section class="form-section" data-section="project">
                        <div class="section-header">
                            <h2><i class="fas fa-clipboard-list"></i> Project Details</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        <div class="section-content">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="quote_number">Quote Number</label>
                                    <input id="quote_number" type="text" name="quote-number">
                                </div>
                                <div class="form-group">
                                    <label for="valid_for">Valid For (Days)</label>
                                    <input id="valid_for" type="number" name="valid-for" value="30" min="1" max="365">
                                </div>
                                <div class="form-group">
                                    <label for="profit_margin">Margin (%)</label>
                                    <input id="profit_margin" type="number" name="profit-margin" value="40" min="0" max="100" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label for="discount">Discount (%)</label>
                                    <input id="discount" type="number" name="discount" value="0" min="0" max="100" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label for="tax_rate">Tax Rate (%)</label>
                                    <input id="tax_rate" type="number" name="tax_rate" value="10" min="0" max="50" step="0.1">
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Materials Section -->
                    <section class="form-section" data-section="materials">
                        <div class="section-header">
                            <h2><i class="fas fa-layer-group"></i> Materials</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        <div class="section-content">
                            <!-- Material Import Subsection -->
                            <div class="subsection">
                                <h3>Material Import</h3>
                                <p class="text-sm text-secondary mb-4">Add materials to be imported to the site, including asphalt for the project</p>
                                
                                <div id="import-materials-container">
                                    <!-- Import material items will be added here dynamically -->
                                </div>

                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="new_import_material">Material to Import</label>
                                        <select id="new_import_material" name="new-import-material">
                                            <option value="">Select material</option>
                                            <option value="Asphalt">Asphalt (2.4 t/m³)</option>
                                            <option value="Topsoil">Topsoil (1.2 t/m³)</option>
                                            <option value="Clay">Clay (1.4 t/m³)</option>
                                            <option value="Sand">Sand (1.6 t/m³)</option>
                                            <option value="Gravel">Gravel (1.8 t/m³)</option>
                                            <option value="CBR-45">CBR-45 Road Base (2.0 t/m³)</option>
                                            <option value="CBR-80">CBR-80 Road Base (2.1 t/m³)</option>
                                            <option value="Concrete">Concrete (2.4 t/m³)</option>
                                            <option value="Rock">Rock (2.7 t/m³)</option>
                                            <option value="None">No Import Required</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="new_import_area">Import Area (sq m)</label>
                                        <input id="new_import_area" type="number" name="new-import-area" min="0" step="0.01" placeholder="e.g., 100">
                                    </div>
                                    <div class="form-group">
                                        <label for="new_import_depth">Import Depth (mm)</label>
                                        <input id="new_import_depth" type="number" name="new-import-depth" min="0" step="1" placeholder="e.g., 200">
                                    </div>
                                    <div class="form-group">
                                        <label for="new_import_volume">Volume to Import (m³)</label>
                                        <input id="new_import_volume" type="number" name="new-import-volume" min="0" step="0.01" placeholder="Auto-calculated or manual input">
                                    </div>
                                    <div class="form-group">
                                        <label for="new_import_density">Material Density (t/m³)</label>
                                        <input id="new_import_density" type="number" name="new-import-density" min="0" step="0.1" placeholder="Auto-filled based on material">
                                        <small class="text-secondary">Can be edited if different from standard density</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="new_import_compaction">Compaction (%)</label>
                                        <input id="new_import_compaction" type="number" name="new-import-compaction" min="0" step="1" value="0" placeholder="Auto-filled based on material">
                                        <small class="text-secondary">0 = no compaction, 25 = 25% compaction (1.25×)</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="new_import_cost_per_tonne">Import Material Cost ($/tonne)</label>
                                        <input id="new_import_cost_per_tonne" type="number" name="new-import-cost-per-tonne" min="0" step="0.01" value="190" placeholder="190">
                                    </div>
                                    <div class="form-group">
                                        <label for="new_import_machine_hours">Machine Hours Required</label>
                                        <input id="new_import_machine_hours" type="number" name="new-import-machine-hours" min="0" step="0.5" placeholder="e.g., 4 (0 if 3rd party delivery)">
                                        <small class="text-secondary">Hours needed for rollers/compactors to install material (0 if delivered and dumped by 3rd party)</small>
                                    </div>
                                    <div class="form-group">
                                        <button type="button" id="add-import-material" class="btn btn-success">
                                            <i class="fas fa-plus"></i> Add Import Material
                                        </button>
                                    </div>
                                </div>

                                <!-- Import Summary -->
                                <div id="import-summary" class="mt-4 p-4 bg-gray-50 rounded-md hidden">
                                    <h5 class="font-semibold mb-2">Import Summary</h5>
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <span class="font-medium">Total Volume:</span>
                                            <span id="total_import_volume">0 m³</span>
                                        </div>
                                        <div>
                                            <span class="font-medium">Total Weight:</span>
                                            <span id="total_import_weight">0 tonnes</span>
                                        </div>
                                        <div>
                                            <span class="font-medium">Total Cost:</span>
                                            <span id="total_import_cost">$0.00</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Emulsion Subsection -->
                            <div class="subsection">
                                <h3>Emulsion Tack Coat</h3>
                                <p class="text-sm text-secondary mb-4">Standard tack coat coverage is 0.15–0.30 L/m² residual binder, or 0.5–0.8 L/m² of diluted emulsion</p>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="emulsion_type">Emulsion Type</label>
                                        <select id="emulsion_type" name="emulsion_type">
                                            <option value="">Select emulsion type</option>
                                            <option value="C170K">C170K - Cationic Rapid Set (0.65 L/m²)</option>
                                            <option value="C320K">C320K - Cationic Medium Set (0.65 L/m²)</option>
                                            <option value="C600K">C600K - Cationic Slow Set (0.65 L/m²)</option>
                                            <option value="A170K">A170K - Anionic Rapid Set (0.65 L/m²)</option>
                                            <option value="A320K">A320K - Anionic Medium Set (0.65 L/m²)</option>
                                            <option value="A600K">A600K - Anionic Slow Set (0.65 L/m²)</option>
                                            <option value="Custom">Custom Coverage Rate</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="emulsion_coverage">Coverage Rate (L/m²)</label>
                                        <input id="emulsion_coverage" name="emulsion_coverage" type="number" min="0" step="0.01" value="0.65" placeholder="0.65">
                                        <small class="text-secondary">Standard range: 0.5-0.8 L/m² diluted emulsion</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="emulsion_cost_per_litre">Cost per Litre ($)</label>
                                        <input id="emulsion_cost_per_litre" name="emulsion_cost_per_litre" type="number" min="0" step="0.01" value="1.50" placeholder="1.50">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Labor Section -->
                    <section class="form-section" data-section="labor">
                        <div class="section-header">
                            <h2><i class="fas fa-users"></i> Labor</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        <div class="section-content">
                            <!-- Standard Labor Roles Section -->
                            <div class="subsection">
                                <h3>Standard Labor Roles</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="labor_role_type">Worker Type</label>
                                        <select id="labor_role_type" name="labor_role_type">
                                            <option value="Labourer">Labourer</option>
                                            <option value="Supervisor">Supervisor</option>
                                            <option value="Operator">Operator</option>
                                            <option value="Engineer">Engineer</option>
                                            <option value="Foreman">Foreman</option>
                                            <option value="Apprentice">Apprentice</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="labor_role_workers">Number of Workers</label>
                                        <input id="labor_role_workers" name="labor_role_workers" type="number" min="1" value="1">
                                    </div>
                                    <div class="form-group">
                                        <label for="labor_role_hours">Total Hours</label>
                                        <input id="labor_role_hours" name="labor_role_hours" type="number" min="0" step="0.1" value="8">
                                    </div>
                                    <div class="form-group">
                                        <label for="labor_role_days">Number of Days</label>
                                        <input id="labor_role_days" name="labor_role_days" type="number" min="1" value="1">
                                    </div>
                                    <div class="form-group">
                                        <label for="labor_role_rate">Hourly Rate ($)</label>
                                        <input id="labor_role_rate" name="labor_role_rate" type="number" min="0" step="0.01" value="30">
                                    </div>
                                    <div class="form-group">
                                        <label>Penalty Rate</label>
                                        <div class="checkbox-group">
                                            <label for="labor_role_public_holiday">
                                                <input id="labor_role_public_holiday" name="labor_role_public_holiday" type="checkbox">
                                                Public Holiday (2.5×)
                                            </label>
                                            <label for="labor_role_sunday">
                                                <input id="labor_role_sunday" name="labor_role_sunday" type="checkbox">
                                                Sunday (2×)
                                            </label>
                                            <label for="labor_role_saturday">
                                                <input id="labor_role_saturday" name="labor_role_saturday" type="checkbox">
                                                Saturday (1.5×)
                                            </label>
                                            <label for="labor_role_after_hours">
                                                <input id="labor_role_after_hours" name="labor_role_after_hours" type="checkbox">
                                                Overnight/After Hours (1.5×)
                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <button type="button" id="add-labor-role-btn" class="btn btn-success">
                                            <i class="fas fa-plus"></i> Add Labor Role
                                        </button>
                                    </div>
                                </div>
                                <div id="labor-roles-list" class="labor-list" style="margin-top:1rem;"></div>
                                <div id="labor-roles-total" class="text-success font-medium" style="margin-top:0.5rem;"></div>
                                <div class="form-grid" style="margin-top:1.5rem;">
                                    <div class="form-group">
                                        <label for="superannuation">Superannuation Rate (%)</label>
                                        <input id="superannuation" type="number" name="superannuation" value="11" min="0" max="100" step="0.1">
                                    </div>
                                    <div class="form-group">
                                        <label for="workers_compensation">Workers Compensation (%)</label>
                                        <input id="workers_compensation" type="number" name="workers_compensation" value="2" min="0" max="100" step="0.1">
                                    </div>
                                    <div class="form-group">
                                        <label for="other_labor_costs">Other Costs (%)</label>
                                        <input id="other_labor_costs" type="number" name="other-labor-costs" value="2" min="0" max="100" step="0.1">
                                    </div>
                                </div>

                            </div>

                            <!-- Other Labor Subsection -->
                            <div class="subsection">
                                <h3>Additional Labor</h3>
                                <div class="other-labor-form">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label for="other_labor_type">Type</label>
                                            <input id="other_labor_type" name="other_labor_type" type="text" placeholder="e.g., Subcontractor, Specialist">
          </div>
                                <div class="form-group">
                                    <label for="other_labor_pricing_method">Pricing Method</label>
                                    <select id="other_labor_pricing_method" name="other_labor_pricing_method">
                                        <option value="hourly" selected>Hourly</option>
                                        <option value="fixed">Fixed</option>
                                    </select>
                                </div>
                                <div class="form-group" id="other_labor_hours_group">
                                    <label for="other_labor_est_hours">Hours</label>
                                    <input id="other_labor_est_hours" name="other_labor_est_hours" type="number" value="0" min="0" step="0.5">
          </div>
                                <div class="form-group" id="other_labor_rate_group">
                                    <label for="other_labor_cost_per_hour">Cost per Hour ($)</label>
                                    <input id="other_labor_cost_per_hour" name="other_labor_cost_per_hour" type="number" value="0" min="0" step="0.01">
          </div>
                                <div class="form-group" id="other_labor_fixed_group" style="display:none;">
                                    <label for="other_labor_fixed_amount">Total Amount ($)</label>
                                    <input id="other_labor_fixed_amount" name="other_labor_fixed_amount" type="number" value="0" min="0" step="0.01">
                                </div>
                                <div class="form-group checkbox-group">
                                    <label for="add_gst">
                                        <input id="add_gst" type="checkbox" name="add_gst">
                                        Add GST
                                    </label>
          </div>
                                        <div class="form-group">
                                            <button type="button" id="add-labor-btn" class="btn btn-success">
                                                <i class="fas fa-plus"></i> Add Labor
                                            </button>
      </div>
      </div>
    </div>

                                <div id="labor-list" class="labor-list">
                                    <!-- Labor items will be added here dynamically -->
                                </div>
        </div>
      </div>
                    </section>

                    <!-- Consumables Section -->
                    <section class="form-section" data-section="consumables">
                        <div class="section-header">
                            <h2><i class="fas fa-gas-pump"></i> Consumables</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
        </div>
      </div>
                        <div class="section-content">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="paint_required">Spray Paint (Qty)</label>
                                    <input id="paint_required" type="number" name="paint_required" value="1" min="0">
                                </div>
                                <div class="form-group">
                                    <label for="paint_cost">Paint Cost ($)</label>
                                    <input id="paint_cost" type="number" name="paint_cost" value="3.99" min="0" step="0.01">
                                </div>
                                <div class="form-group">
                                    <label for="petrol_required">Petrol (Litres)</label>
                                    <input id="petrol_required" type="number" name="petrol_required" value="0" min="0" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label for="petrol_cost">Petrol Cost ($/L)</label>
                                    <input id="petrol_cost" type="number" name="petrol_cost" value="2" min="0" step="0.01">
                                </div>
                                <div class="form-group">
                                    <label for="diesel_required">Diesel (Litres)</label>
                                    <input id="diesel_required" type="number" name="diesel_required" value="0" min="0" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label for="diesel_cost">Diesel Cost ($/L)</label>
                                    <input id="diesel_cost" type="number" name="diesel_cost" value="2" min="0" step="0.01">
        </div>
                                <div class="form-group">
                                    <label for="gas_required">Gas (Litres)</label>
                                    <input id="gas_required" type="number" name="gas_required" value="0" min="0" step="0.1">
      </div>
                                <div class="form-group">
                                    <label for="gas_cost">Gas Cost ($/L)</label>
                                    <input id="gas_cost" type="number" name="gas_cost" value="1.5" min="0" step="0.01">
        </div>
      </div>
                        </div>
                    </section>

                    <!-- Equipment Section -->
                    <section class="form-section" data-section="equipment">
                        <div class="section-header">
                            <h2><i class="fas fa-truck"></i> Equipment Required</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
    </div>
                        <div class="section-content">
                            <div class="equipment-grid">
                                <div class="form-group">
        <label for="compactor_plate">Compactor Plate</label>
                                    <input id="compactor_plate" type="number" name="compactor_plate" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="rammer_compactor">Rammer Compactor</label>
                                    <input id="rammer_compactor" type="number" name="rammer_compactor" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="leaf_blower">Leaf Blower</label>
                                    <input id="leaf_blower" type="number" name="leaf_blower" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="concrete_cutter">Concrete Cutter</label>
                                    <input id="concrete_cutter" type="number" name="concrete_cutter" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="_1t_roller">1t Roller</label>
                                    <input id="_1t_roller" type="number" name="1t_roller" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="_2t_roller">2t Roller</label>
                                    <input id="_2t_roller" type="number" name="2t_roller" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="skidsteer">Skidsteer</label>
                                    <input id="skidsteer" type="number" name="skidsteer" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="mr_truck">MR Truck</label>
                                    <input id="mr_truck" type="number" name="mr_truck" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="hr_truck">HR Truck</label>
                                    <input id="hr_truck" type="number" name="hr_truck" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="trailer">Trailer</label>
                                    <input id="trailer" type="number" name="trailer" value="0" min="0">
      </div>
                                <div class="form-group">
        <label for="car">Car</label>
                                    <input id="car" type="number" name="car" value="0" min="0">
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Notes Section -->
                    <section class="form-section" data-section="notes">
                        <div class="section-header">
                            <h2><i class="fas fa-sticky-note"></i> Notes</h2>
                            <div class="section-toggle">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        <div class="section-content">
                            <div class="form-group">
                                <label for="project_notes">Project Notes</label>
                                <textarea id="project_notes" name="project_notes" rows="6" placeholder="Enter any additional notes or special requirements..."></textarea>
                            </div>
                        </div>
                    </section>

                    <div class="form-actions">
                        <button id="calculate_button" type="button" class="btn btn-primary btn-large">
                            <i class="fas fa-calculator"></i> Calculate Quote
                        </button>
                    </div>
                </form>
            </div>

            <!-- Results Panel -->
            <div id="results-panel" class="results-panel hidden">
                <div class="results-header">
                    <h2><i class="fas fa-chart-line"></i> Quote Results</h2>
                    <div class="results-actions">
                        <button id="save-quote-from-results" class="btn btn-success">
                            <i class="fas fa-save"></i> Save Quote
                        </button>
                        <button id="close-results" class="btn btn-icon">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div id="result" class="results-content">
                    <!-- Results will be populated here -->
                </div>
      </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Calculating...</p>
      </div>
    </div>

    <!-- File Input for Loading Quotes -->
    <input type="file" id="file-input" accept=".json" style="display: none;">



    <script src="scripts.js" type="text/javascript"></script>
</body>
</html>
